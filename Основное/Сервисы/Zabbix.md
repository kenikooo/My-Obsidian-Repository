‚Äî –ü–µ—Ä–µ–π—Ç–∏ –≤ [[HUB]] ‚Äî
> [!INFO] –ß—Ç–æ —Ç–∞–∫–æ–µ **Zabbix**?
–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤, —Å–µ—Ç–µ–≤–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –¥—Ä—É–≥–∏—Ö IT-—Ä–µ—Å—É—Ä—Å–æ–≤ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã: **ALT Linux p10 (MATE)** –∏ **p11 (GNOME)**

> [!WARNING] –î–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ
```bash
> postgresql17-server
> zabbix-server-pgsql
> fping
> apache2
> apache2-mod_php8.2

- –ü–æ —Ö–æ–¥—É —Ä–∞–±–æ—Ç—ã, –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è
```
–ü–æ–¥–≥–æ—Ç–æ–≤–∏–º –∫ –∑–∞–ø—É—Å–∫ –∏ –Ω–∞—Å—Ç—Ä–æ–∏–º —Å–ª—É–∂–±—ã PostgreSQL:
```bash
> /etc/init.d/postgresql initdb
> systemctl enable --now postgresq
```
–°–æ–∑–¥–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Zabbix:
1) –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è zabbix (–ø–∞—Ä–æ–ª—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å) –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö zabbix (–ø–æ–¥ –ø—Ä–∞–≤–∞–º–∏ root):
```bash
> su - postgres -s /bin/sh -c 'createuser --no-superuser --no-createdb --no-createrole --encrypted --pwprompt zabbix'
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –Ω–æ–≤–æ–π —Ä–æ–ª–∏:
# –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –µ–≥–æ:
> su - postgres -s /bin/sh -c 'createdb -O zabbix zabbix'
```
–¥–æ–±–∞–≤–∏—Ç—å –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ –≤–∞–∂–Ω–∞, –≤ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –ø—É—Ç—å –±—É–¥–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, –≤–µ—Ä—Å–∏—è –ø–æ–º–µ—á–µ–Ω–∞ –∑–≤—ë–∑–¥–æ—á–∫–æ–π, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–º–∞–Ω–¥–æ–π **rpm -ql zabbix-common-database-pgsql | grep schema.sql** ):
```bash
su - postgres -s /bin/sh -c 'psql -U zabbix -f /usr/share/doc/zabbix-common-database-pgsql-*/schema.sql zabbix' # –í–º–µ—Å—Ç–æ –∑–≤–µ–∑–¥–æ—á–∫–∏ –ø–∏—à–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∏–∑ –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, ../zabbix-common-database-pgsql-7.0.21/schema.sql
```
**–µ—Å–ª–∏** –≤—ã **—Å–æ–∑–¥–∞–µ—Ç–µ** –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö **–¥–ª—è Zabbix –ø—Ä–æ–∫—Å–∏,** —Å–ª–µ–¥—É—é—â–∏–µ **–∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ –Ω—É–∂–Ω–æ**:
```bash
> su - postgres -s /bin/sh -c 'psql -U zabbix -f /usr/share/doc/zabbix-common-database-pgsql-*/images.sql zabbix' # –í–º–µ—Å—Ç–æ –∑–≤–µ–∑–¥–æ—á–∫–∏ –ø–∏—à–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∏–∑ –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, ../zabbix-common-database-pgsql-7.0.21/images.sql
> su - postgres -s /bin/sh -c 'psql -U zabbix -f /usr/share/doc/zabbix-common-database-pgsql-*/data.sql zabbix' # –í–º–µ—Å—Ç–æ –∑–≤–µ–∑–¥–æ—á–∫–∏ –ø–∏—à–µ–º —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é –∏–∑ –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, ../zabbix-common-database-pgsql-7.0.21/data.sql
```
### Apache2
–†–∞–Ω–µ–µ, –º—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –¥–≤–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞, –∑–∞–ø—É—Å—Ç–∏–º –∏ –¥–æ–±–∞–≤–∏–º –≤ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ apache2:
```bash
> systemctl enable --now httpd2
```
–°–ª–µ–¥—É—é—â–∏–º —à–∞–≥–æ–º, —É—Å—Ç–∞–Ω–æ–≤–∏–º PHP (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL):
```bash
> apt-get update && apt-get install php8.2 php8.2-mbstring php8.2-sockets php8.2-gd php8.2-xmlreader php8.2-pgsql php8.2-ldap php8.2-openssl
```
–î–∞–ª–µ–µ, –∏–¥–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –ø–æ –ø—É—Ç–∏ /etc/php/8.2/apache2-mod_php/php.ini –∏ –º–µ–Ω—è–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
> [!INFO] vim /etc/php/8.2/apache2-mod_php/php.ini
```bash
> memory_limit = 256M
> post_max_size = 32M
> max_execution_time = 600
> max_input_time = 600
> date.timezone = Europe/Moscow # —Ä–µ–≥–∏–æ–Ω –ø–∏—à–µ–º —Å–≤–æ–π
> always_populate_raw_post_data = -1
```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–º —Å–ª—É–∂–±—É:
```bash
> systemctl restart httpd2
```
–ü–µ—Ä–µ–π–¥–µ–º –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ Zabbix:
```bash
> apt-get update && apt-get install zabbix-phpfrontend-apache2 zabbix-phpfrontend-php8.2
```
–ù–∞—Å—Ç—Ä–æ–∏–º –∏ –∑–∞–ø—É—Å—Ç–∏–º —Å–∞–º Zabbix —Å–µ—Ä–≤–µ—Ä, –∏–¥–µ–º –≤ –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª –ø–æ –ø—É—Ç–∏ /etc/zabbix/zabbix_server.conf:
> [!INFO] vim /etc/zabbix/zabbix_server.conf
```bash
> DBHost=localhost
> DBName=zabbix
> DBUser=zabbix
> DBPassword=–ü–∞—Ä–æ–ª—å
```
–ó–∞–ø—É—Å–∫–∞–µ–º —Å–ª—É–∂–±—É:
```bash
> systemctl enable --now zabbix_pgsql
```
–í–∫–ª—é—á–∞–µ–º –∞–¥–¥–æ–Ω—ã –≤ apache2:
```bash
> ln -s /etc/httpd2/conf/addon.d/A.zabbix.conf /etc/httpd2/conf/extra-enabled/
```
–ò —Å–Ω–æ–≤–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º —Å–ª—É–∂–±—É:
```bash
> systemctl restart httpd2
```
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∞ –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º—É –∫–∞—Ç–∞–ª–æ–≥—É –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —á—Ç–æ–±—ã –≤–µ–±-—É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –º–æ–≥ –∑–∞–ø–∏—Å–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥ —Ñ–∞–π–ª:
```bash
chown apache2:apache2 /var/www/webapps/zabbix/ui/conf
```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Zabbix —Å–µ—Ä–≤–µ—Ä–∞:
```bash
> http://<ip-—Å–µ—Ä–≤–µ—Ä–∞>/zabbix
```
–ö–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ —Å–∞–π—Ç, –Ω–∞ —à–∞–≥–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:
```bash
–¢–∏–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: PostgreSQL
–•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: localhost
–ü–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: 0
–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: 0
–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: public
–•—Ä–∞–Ω–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤: –ü—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: Zabbix
–ü–∞—Ä–æ–ª—å: <–í–∞—à —Å—É–ø–µ—Ä-–ø—É–ø–µ—Ä —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å>
```
–ù–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ –ù–∞—Å—Ç—Ä–æ–π–∫–∏, –∑–∞–¥–∞–¥–∏–º –∏–º—è —Å–µ—Ä–≤–µ—Ä–∞ Zabbix –ª—é–±–æ–µ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, zabbix_server:
–ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
```bash
–õ–æ–≥–∏–Ω: Admin
–ü–∞—Ä–æ–ª—å: zabbix
```
–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É, —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (Administration ‚áæ Users), –ø–æ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏ –∑–∞–≤–µ—Å—Ç–∏ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å Zabbix.

–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª:
- üê∏ [Zabbix - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](https://www.altlinux.org/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%B8_%D0%BF%D0%B5%D1%80%D0%B2%D0%BE%D0%BD%D0%B0%D1%87%D0%B0%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F_%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0_ZABBIX#%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_Apache2)
- üñ•Ô∏è [–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Zabbix, —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ](https://docs.altlinux.org/ru-RU/alt-server/11.1/html/alt-server/zabbix--chapter.html)
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ Zabbix
