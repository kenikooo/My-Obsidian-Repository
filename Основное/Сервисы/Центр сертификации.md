— Перейти в [[HUB]] —
>[!INFO] Что такое **Центр сертификации?**
 Организация, которая выдает цифровые сертификаты, подтверждающие подлинность пользователей, веб-сайтов, устройств или документов. Он выступает в роли доверенной третьей стороны, привязывая криптографические ключи к проверенным сущностям и удостоверяя их личность в сети или в рамках документации.

 Используемая ОС:
`Windows 10 Server 2022`

```bash
1. Открываем диспетчер серверов
2. Переходим в "Управление"
3. Далее, выбираем "Добавить роли и компоненты"
4. Доходим до пункта "Роли сервера" и ищем Служба сертификатов Active Directory
5. Устанавливаем только Центр сертификации
```
После установки, переходим в задачи(Флажок), и приступаем к настройке ЦC:
```bash
1. Указываем тип ЦС, в нашем случае будет: ЦС Предприятия;
2. После чего, делаем наш ЦС - Корневым, автономным;
3. Задаем ИМЯ ЦС, и указываем "Срок действия", в поле "Указание срока действия", рекомендуется указать 10 лет
4. Прокликиваем до конца, и жмем "Настроить"
```

Открываем редактор групповых политик Win + R: `gpmc.msc`
Разворачиваем наш домен, и создаем правило: `Центр сертификации -> Изменить`
Конфиг политики:
```
| Конфигурации Компьютеров
 | Политики
  |Конфигурация Windows
   | Политика открытого ключа
    | Доверенные корневые центры сертификации
     | *ПКМ* -> Импорт
```
* Обзор -> Выбираем наш сертификат, кликаем до конца.
![[Pasted image 20250319163255.png]]

Чтобы достать сертификат нашего сервера, жмем `Win+R` и пишем `certsrv.msc`
В выпадающем окне, выбираем `Выданные сертификаты` и жмем `ПКМ` по тому `сертификату` что там есть -> `Открыть`, в выпадающем окне, выбираем `Состав" -> Копировать в файл`
![[Pasted image 20250319163336.png]]

> [!INFO] Формат 
> "Файлы X.509(.CER) в кодировке Base-64", после чего задаем имя и путь, где будет располагаться наш сертификат, например в документы.

После того, как групповая политика была создана, а сертификат экспортирован и импортирован, нам нужно применить групповые политики на клиентах.
На Windows 10 Pro CLI: `Win+R -> cmd -> gpupdate /force`
Чтобы проверить сертификат, и пришел ли он, опять же жмем `Win+R -> certmgr.msc -> Доверенные корневые центры сертификации -> Сертификаты` и ищем наш сертификат, `в моем случае` это `HQ-DC-CA`
![[Pasted image 20250319163158.png]]

Для проверки сертификаты на ALT Linux, установим дистрибутив, чтобы обновить групповые политики:
```bash
apt-get update && apt-get install gpupdate -y
> gpupdate-setup enable
 > Дожидаемся конца
  > gpupdate-setup
   > Должен вывести enabled
    > gpupdate --force
```

> [!WARNING] ALT Linux
```bash
mv /home/user/Загрузка/Имя_сертификата.crt /etc/pki/ca-trust/source/anchors
update-ca-trust
```
